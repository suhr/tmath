---
marp: true
math: katex
---

# Доказательства

---

Пусть даны два высказывания: $P$ и $Q$. Из них можно составить новые высказывания:

- $P ∧ Q$ («$P$ и $Q$») — оба высказывания истины
- $P ∨ Q$ («$P$ или $Q$») — по крайней мере одно из высказываний истино
- $P → Q$ («если $P$, то $Q$») — если $P$ истино, то тогда и $Q$ истино

Если же $φ$ это функция, результатом которой является высказывание (предикат), то с её помощью можно составить следующие высказывания:

- $∀x:τ.\; φ\ x$ («для любого $x$ типа $τ$, $φ\ x$») — высказывание $φ\ x$ истино для любого $x : τ$
- $∃x:τ.\; φ\ x$ («существует $x$ типа $τ$, такое, что $φ\ x$») — существует такое $x : τ$, что $φ\ x$ истино

---

Пример: высказывание «любое натуральное число, которое больше нуля, но меньше двух, равно единице» записывается как

$$∀n:ℕ.\; (0<n) ∧ (n<2) → n = 1$$

Подставим различные значения $n$ в выражение внутри $∀$:

- Подставив $n := 1$, получаем $(0<1) ∧ (1<2) → 1 = 1$. Все высказывания внутри этого выражения являются истиными
- Подставив $n := 3$, получаем $(0<3) ∧ (3<2) → 3 = 1$. Высказывание $3 = 1$ ложно, но поскольку $P → Q$ обещает истинность $Q$ только в том случае, когда $P$ истино, высказывание целиком является истиным

---

Истиность или ложность высказываний в математике устанавливается с помощью доказательств. Но что такое доказательство?

Одно из возможных определений:

## «Доказательство — это рассуждение, которое убеждает того, кто его воспринял, настолько, что он делается готовым убеждать других с помощью этого же рассуждения»

Красивое определение, но непригодное для формализации.

---

Мы подойдём к вопросу с другой стороны. Представим скептика, который разбирает высказывания следующим образом:

- Если мы утверждаем $P ∧ Q$, то он выбирает одно из высказываний и дальше разбирает это высказывание
- На $P ∨ Q$, он спрашивет — какое именно из высказываний истино? Получив ответ, он разбирает это высказывание
- В случае $P → Q$, скептик ищет доказательство $P$. Если находит, то разбирает $Q$
- Для $∀x:τ.\; φ\ x$ скептик выбирает значение $v: τ$ и переходит к $φ\ v$
- И если мы утверждаем, что  $∃x:τ.\;φ\ x$, он спрашивает — какое именно $x$? Получив $v:τ$ в качестве ответа, он разбирает $φ\ v$
- Для остальных утверждений он просто требует их доказательство

---

Для высказывания $∀n:ℕ.\; ∃k: ℕ.\; n < k$ (каждому числу найдётся большее число) возможен такой диалог:

- Скажем, для $n := 9000$ найдётся такое $k$, что $9000 < k$? Что это за $k$ такое?
- Например, $k := 9001$.
- Докажи, что $9000 < 9001$

Мы пока что так и не узнали, как доказать, что $9000 < 9001$.

---

Интерпретируя $p : P$ как суждение, что $p$ это доказательство $P$, определим, что такое доказательство рекурсивно:

- Доказательством $P ∧ Q$ является пара $⟨p, q⟩$, где $p : P$ и $q : Q$
- Доказательством $P ∧ Q$ являются значение индуктивного типа с конструкторами $inl : P → P ∨ Q$ и $inr : Q → P ∨ Q$
- Доказательство $P → Q$ это функция, которая строит доказательство $Q$ с помощью доказательства $P$
- Доказательство $∀x:τ.\; φ\ x$ это функция, которая из любого значения $v:τ$ строит доказательство $φ\ v$
- Доказательство $∃x:τ.\; φ\ x$ это пара $⟨v,p⟩$, где $p : φ\ v$

Легко видеть, что доказательство содержит ответы на любые вопросы скептика.

---

Но откуда берутся доказательства элементарных утверждений, вроде $3 ⩽ 5$? Ответ — из определений и аксиом.

Например, отношение $(⩽)$ может быть определено следующими конструкторами:

- $refl: ∀\{n:ℕ\}.\; n ⩽ n$
- $step: ∀\{n\,k:ℕ\}.\; n ⩽ k → n ⩽ s\ k$

Покажем, что $3 ⩽ 5$:

- $refl : 3 ⩽ 3$
- Отсюда $step\ refl : 3 ⩽ 4$
- И, следовательно, $step\ (step\ refl) : 3 ⩽ 5$

Строгое неравенство можно определить как $n < k := n ⩽ s\ k$.

---

Нам осталось определить доказательство ещё одного высказывания: $¬P$ («не P»), которое истино когда $P$ ложно.

Для этого рассмотрим один из основных вариантов его использования:

1. $P ∨ Q$
2. $¬P$
3. Следовательно, $Q$

Доказательство обратного позволяет отсекать невозможные случаи.

---

Но так как из $P$ следует $P ∨ Q$ для любого высказывания $Q$, предыдущее рассуждение обобщается в

$$absurd: P → ¬P → Q$$

Из одновременной истинности $P$ и $¬P$ следует истинность любого утверждения. Другими словами, *из абсурда следует что угодно*.

У абсурда есть вопрощение: это индуктивый тип $⊥$ (который зовётся `False` в Lean) без конструкторов. Функция $elim: ⊥ → C$ преобразует абсурд в значение любого типа.

Отрицание это высказываниие «из $P$ следует абсурд»:

$$¬P := P → ⊥$$

---

# Равенство

---
